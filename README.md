# VKChatFakeTyping - Фейковый вечный набор сообщений в чатах ВКонтакте.

## Что эта штука умеет делать?

* Вечно выставлять статус "набирает сообщение..." в чате.
* Возвращать в чат себе подобных, если их исключают.

## Зачем?

Зачем и на ком использовать - решать вам.

## Как использовать?

### Вам потребуется

* Python 3
* Пакет requests
* Пакет threading
* Файл typer.py из репозитория

### Настройка

#### Доступные команды:

* help - Выводит мини-справку по командам.
* start - Запускает выставление статуса "набирает сообщение" у "печатающих" аккаунтов.
* stop - Останавливает печать.
* addallies < id1, id2, ... > - Добавляет "союзников". То есть пользователей, которых будут автоматически возвращать "печатающие" аккаунты.
* remallies < id1, id2, ... > - Удаляет "союзников".
* addtyper < chat ID > < token or login > [ password ] - Добавляет "печатающий" аккаунт. Этот аккаунт сможет выставлять себе статуст "набирает сообщение" и возвращать
другие аккаунты "союзники", если тех исключат. Так же эта команда автоматически добавляет этот аккаунт к "союзникам".
**Пояснение к арументам:**
**chat ID:** ID чата для **данного аккаунта.** Посмотреть его можно, зайдя с браузерной версии ВКонтакте и открыв требуемый вам чат.
Затем откройте адресную строку и посмотрите на адрес. Например: Если ваш адрес https://vk.com/im?sel=c76 , то **chat ID** равен **76**.
Для удобства в репозитории находится дополнительная утилита, которая вычислит последний доступный ID чата. Все чаты нумеруются по порядку.

**Внимание:** все chat ID должны в итоге указывать на один чат, иначе последствия неизвестны.
**token or login:** Требуется для авторизации аккаунта и чтобы этот аккаунт мог выставлять себе статус "набирает сообщение" и возвращать "союзников".
Подробнее про токены можно почитать в пункте "Авторизация пользователя": https://vk.com/dev/first_guide
Если же вы хотите войти с логином и паролем, просто напишите их через пробел как аргументы.

* remtypers < id1, id2, ... > - Удаляет "печатающие" аккаунты. Аккаунты остаются в "союзниках".
* exit - Завершает программу.
* lstypers - Выводит список ID печатающих аккаунтов.
* lsallies - Выводит список ID аккаунтов "союзников".
* delay <requests delay> - Устанавливает задержку между запросами к VK API.

#### Начало работы:

1. Установите Python 3 и все требуемые зависимости.
2. Скачайте себе скрипт и запустите его командой:
```
python3 typer.py
```
3. Добавьте "союзников" и "печатающих" командами addallies и addtyper соответсвенно. Как только будет добавлен хотя бы один аккаунт "печатающих",
все аккаунты из "союзников" будут добавлены в чат, если их не было до этого. Даже при выключенном статусе "набирает сообщение" аккаунты "союзники" будут возвращаться в чат.
4. Запустите выставление статуса "набирает сообщение" командой start.
5. Наблюдайте за происходящим в чате и консоли. Если в консоли будет написано только:
```
...
*id* is typing...
*id* is typing...
...
```
значит, все в порядке. Если кто-то попытается исключить кого-то из "союзников" и "печатающие" аккаунты будут пытаться добавлять, то в логе будут сообщения:
```
...
*id* isn't typing!
...
*id* readded!
...
```
6. Как только вы наиграетесь, завершить программу можно командой **exit**

### Проверка последнего доступного ID чата

В репозитории присутствует дополнительная утилита, которая позволяет получить ID последнего доступного чата ВКонтакте.

Так как все групповые беседы нумеруются по возрастанию от 1, данная утилита выполняет двоичный поиск и находит максимальный
доступный ID.

Запуск:
```
python3 last_chat_id.py
```

При запуске утилита запросит токен для доступа к сообщениям и максимальный ID чата. Постарайтесь выбрать это число так,
чтобы вы были уверены, что в такое кол-во чатов вы не вступали еще. Перед началом поиска утилита проверит существование
чата с таким ID и если он существует, попросит выбрать большее число, чтобы начать поиск.

